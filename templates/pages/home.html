{% extends 'base.html' %} {% load exstra_fields %} {% block content %}

<div class="row">
  <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
    <div class="card">
      <div class="card-header p-3 pt-2">
        <div
          class="icon icon-lg icon-shape bg-gradient-dark shadow-dark text-center border-radius-xl mt-n4 position-absolute"
        >
          <i class="material-icons opacity-10">shopping_cart</i>
        </div>
        <div class="text-end pt-1">
          <p class="text-sm mb-0 text-capitalize">All Products</p>
          <h4 class="mb-0">{{product_num}}</h4>
        </div>
      </div>
      <hr class="dark horizontal my-0" />
      <div class="card-footer p-3">
        <p class="mb-0">
          <span class="text-success text-sm font-weight-bolder"
            ><a href="{% url 'products' %}">check all products</a></span
          >
        </p>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
    <div class="card">
      <div class="card-header p-3 pt-2">
        <div
          class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4 position-absolute"
        >
          <i class="material-icons opacity-10">person</i>
        </div>
        <div class="text-end pt-1">
          <p class="text-sm mb-0 text-capitalize">All Users</p>
          <h4 class="mb-0">{{user}}</h4>
        </div>
      </div>
      <hr class="dark horizontal my-0" />
      <div class="card-footer p-3">
        <p class="mb-0">
          <span class="text-success text-sm font-weight-bolder"
            ><a href="{% url 'users' %}">check all users</a></span
          >
        </p>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
    <div class="card">
      <div class="card-header p-3 pt-2">
        <div
          class="icon icon-lg icon-shape bg-gradient-success shadow-success text-center border-radius-xl mt-n4 position-absolute"
        >
          <i class="material-icons opacity-10">shopping_bag</i>
        </div>
        <div class="text-end pt-1">
          <p class="text-sm mb-0 text-capitalize">categories</p>
          <h4 class="mb-0">{{category}}</h4>
        </div>
      </div>
      <hr class="dark horizontal my-0" />
      <div class="card-footer p-3">
        <p class="mb-0">
          <span class="text-danger text-sm font-weight-bolder"
            ><a href="{% url 'category' %}">check all categories</a></span
          >
        </p>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-sm-6">
    <div class="card">
      <div class="card-header p-3 pt-2">
        <div
          class="icon icon-lg icon-shape bg-gradient-info shadow-info text-center border-radius-xl mt-n4 position-absolute"
        >
          <i class="material-icons opacity-10">paid</i>
        </div>
        <div class="text-end pt-1">
          <p class="text-sm mb-0 text-capitalize">Active Ads</p>
          <h4 class="mb-0">{{ad}}</h4>
        </div>
      </div>
      <hr class="dark horizontal my-0" />
      <div class="card-footer p-3">
        <p class="mb-0">
          <span class="text-success text-sm font-weight-bolder"
            ><a href="{% url 'ads' %}">check all Ads</a></span
          >
        </p>
      </div>
    </div>
  </div>
</div>
<div class="row mt-4">
  <div class="col-lg col-md-6 mt-4 mb-4">
    <div class="card z-index-2">
      <div
        class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent"
      >
        <div
          class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1"
        >
          <div class="chart">
            <canvas id="chart-line" class="chart-canvas" height="170"></canvas>
          </div>
        </div>
      </div>
      <div class="card-body">
        <h6 class="mb-0">Users</h6>
        <p class="text-sm">yearly</p>
        <hr class="dark horizontal" />
        <div class="d-flex">
          <i class="material-icons text-sm my-auto me-1">schedule</i>
          <p class="mb-0 text-sm">{date - year}</p>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg mt-4 mb-3">
    <div class="card z-index-2">
      <div
        class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent"
      >
        <div class="bg-gradient-dark shadow-dark border-radius-lg py-3 pe-1">
          <div class="chart">
            <canvas
              id="chart-line-tasks"
              class="chart-canvas"
              height="170"
            ></canvas>
          </div>
        </div>
      </div>
      <div class="card-body">
        <h6 class="mb-0">Ads Number</h6>
        <p class="text-sm">yearly</p>
        <hr class="dark horizontal" />
        <div class="d-flex">
          <i class="material-icons text-sm my-auto me-1">schedule</i>
          <p class="mb-0 text-sm">{date - year}</p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row mb-4">
  <div class="col-lg col-md-6 mb-md-0 mb-4">
    <div class="card">
      <div class="card-header pb-0">
        <div class="row">
          <div class="col-lg-6 col-7">
            <h6>Lastet Products</h6>
          </div>
        </div>
      </div>
      <div class="card-body px-0 pb-2">
        <div class="table-responsive">
          <table class="table align-items-center mb-0">
            <thead>
              <tr>
                <th
                  class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                >
                  Product Name
                </th>
                <th
                  class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"
                >
                  User name
                </th>
                <th
                  class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                >
                  Expire date
                </th>
                <th
                  class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                >
                  Category Name
                </th>
              </tr>
            </thead>
            <tbody>
              {% for i in product|slice:'5' %}
              <tr>
                <td>
                  <div class="d-flex px-2 py-1">
                    <div class="d-flex flex-column justify-content-center">
                      <h6 class="mb-0 text-sm">
                        {{i.fields|get_item:'title'}}
                      </h6>
                    </div>
                  </div>
                </td>
                <td class="align-middle">
                  <span class="text-xs font-weight-bold">
                    {{i.user.username}}
                  </span>
                </td>
                <td class="align-middle text-center text-sm">
                  <span class="text-xs font-weight-bold">
                    {{i.expire_date}}
                  </span>
                </td>
                <td class="align-middle text-center text-sm">
                  <span class="text-xs font-weight-bold">
                    {{i.category.name}}
                  </span>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg col-md-6 mt-4 mb-4">
    <div class="card z-index-2">
      <div
        class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent"
      >
        <div
          class="bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1"
        >
          <div class="chart">
            <canvas id="chart-bars" class="chart-canvas" height="170"></canvas>
          </div>
        </div>
      </div>
      <div class="card-body">
        <h6 class="mb-0">Added Products By Day</h6>
        <p class="text-sm">Monthly</p>
        <hr class="dark horizontal" />
        <div class="d-flex">
          <i class="material-icons text-sm my-auto me-1">schedule</i>
          <p class="mb-0 text-sm">{date - weekly}</p>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock content %} {% block exstra %}
<script>
  var ctx = document.getElementById("chart-bars").getContext("2d");

  new Chart(ctx, {
    type: "bar",
    data: {
      labels: [
        "Jan",
        "Feb",
        "Mar",
        "Apr",
        "May",
        "Jun",
        "Jul",
        "Aug",
        "Sep",
        "Oct",
        "Nov",
        "Dec",
      ],
      datasets: [
        {
          label: "Products",
          tension: 0.4,
          borderWidth: 0,
          borderRadius: 4,
          borderSkipped: false,
          backgroundColor: "rgba(255, 255, 255, .8)",
          data: [
            {{pm|get_item:1}},
            {{pm|get_item:2}},
            {{pm|get_item:3}},
            {{pm|get_item:4}},
            {{pm|get_item:5}},
            {{pm|get_item:6}},
            {{pm|get_item:7}},
            {{pm|get_item:8}},
            {{pm|get_item:9}},
            {{pm|get_item:10}},
            {{pm|get_item:11}},
            {{pm|get_item:12}}
            ],
          maxBarThickness: 6,
        },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false,
        },
      },
      interaction: {
        intersect: false,
        mode: "index",
      },
      scales: {
        y: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [5, 5],
            color: "rgba(255, 255, 255, .2)",
          },
          ticks: {
            suggestedMin: 0,
            suggestedMax: 500,
            beginAtZero: true,
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: "normal",
              lineHeight: 2,
            },
            color: "#fff",
          },
        },
        x: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [5, 5],
            color: "rgba(255, 255, 255, .2)",
          },
          ticks: {
            display: true,
            color: "#f8f9fa",
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: "normal",
              lineHeight: 2,
            },
          },
        },
      },
    },
  });

  var ctx2 = document.getElementById("chart-line").getContext("2d");

  new Chart(ctx2, {
    type: "line",
    data: {
      labels: [
        "Jan",
        "Feb",
        "Mar",
        "Apr",
        "May",
        "Jun",
        "Jul",
        "Aug",
        "Sep",
        "Oct",
        "Nov",
        "Dec",
        ],
      datasets: [
        {
          label: "Users",
          tension: 0,
          borderWidth: 0,
          pointRadius: 5,
          pointBackgroundColor: "rgba(255, 255, 255, .8)",
          pointBorderColor: "transparent",
          borderColor: "rgba(255, 255, 255, .8)",
          borderColor: "rgba(255, 255, 255, .8)",
          borderWidth: 4,
          backgroundColor: "transparent",
          fill: true,
          data: [
            {{um|get_item:1}},
            {{um|get_item:2}},
            {{um|get_item:3}},
            {{um|get_item:4}},
            {{um|get_item:5}},
            {{um|get_item:6}},
            {{um|get_item:7}},
            {{um|get_item:8}},
            {{um|get_item:9}},
            {{um|get_item:10}},
            {{um|get_item:11}},
            {{um|get_item:12}}
            ],
          maxBarThickness: 6,
        },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false,
        },
      },
      interaction: {
        intersect: false,
        mode: "index",
      },
      scales: {
        y: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [5, 5],
            color: "rgba(255, 255, 255, .2)",
          },
          ticks: {
            display: true,
            color: "#f8f9fa",
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: "normal",
              lineHeight: 2,
            },
          },
        },
        x: {
          grid: {
            drawBorder: false,
            display: false,
            drawOnChartArea: false,
            drawTicks: false,
            borderDash: [5, 5],
          },
          ticks: {
            display: true,
            color: "#f8f9fa",
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: "normal",
              lineHeight: 2,
            },
          },
        },
      },
    },
  });

  var ctx3 = document.getElementById("chart-line-tasks").getContext("2d");

  new Chart(ctx3, {
    type: "line",
    data: {
      labels: [
        "Jan",
        "Feb",
        "Mar",
        "Apr",
        "May",
        "Jun",
        "Jul",
        "Aug",
        "Sep",
        "Oct",
        "Nov",
        "Dec",
        ],
      datasets: [
        {
          label: "Ads",
          tension: 0,
          borderWidth: 0,
          pointRadius: 5,
          pointBackgroundColor: "rgba(255, 255, 255, .8)",
          pointBorderColor: "transparent",
          borderColor: "rgba(255, 255, 255, .8)",
          borderWidth: 4,
          backgroundColor: "transparent",
          fill: true,
          data: [
            {{am|get_item:1}},
            {{am|get_item:2}},
            {{am|get_item:3}},
            {{am|get_item:4}},
            {{am|get_item:5}},
            {{am|get_item:6}},
            {{am|get_item:7}},
            {{am|get_item:8}},
            {{am|get_item:9}},
            {{am|get_item:10}},
            {{am|get_item:11}},
            {{am|get_item:12}},
            ],
          maxBarThickness: 6,
        },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false,
        },
      },
      interaction: {
        intersect: false,
        mode: "index",
      },
      scales: {
        y: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [5, 5],
            color: "rgba(255, 255, 255, .2)",
          },
          ticks: {
            display: true,
            padding: 10,
            color: "#f8f9fa",
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: "normal",
              lineHeight: 2,
            },
          },
        },
        x: {
          grid: {
            drawBorder: false,
            display: false,
            drawOnChartArea: false,
            drawTicks: false,
            borderDash: [5, 5],
          },
          ticks: {
            display: true,
            color: "#f8f9fa",
            padding: 10,
            font: {
              size: 14,
              weight: 300,
              family: "Roboto",
              style: "normal",
              lineHeight: 2,
            },
          },
        },
      },
    },
  });
</script>
{% endblock exstra %}
